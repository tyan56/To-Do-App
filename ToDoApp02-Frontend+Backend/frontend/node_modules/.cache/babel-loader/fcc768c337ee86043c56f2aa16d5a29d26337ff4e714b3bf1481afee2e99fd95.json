{"ast":null,"code":"var _jsxFileName = \"D:\\\\PRD PROJECT\\\\ToDoApp02-system\\\\frontend\\\\src\\\\components\\\\TodoForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, memo, useCallback } from 'react';\nimport { validateInput } from '../utils/helpers';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TodoForm = /*#__PURE__*/_s(/*#__PURE__*/memo(_c = _s(({\n  onAddTodo,\n  loading\n}) => {\n  _s();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [error, setError] = useState('');\n  const handleSubmit = useCallback(async e => {\n    e.preventDefault();\n\n    // 验证输入\n    const titleError = validateInput(title, 1, 255);\n    if (titleError) {\n      setError(titleError);\n      return;\n    }\n    const descriptionError = description ? validateInput(description, 1, 1000) : null;\n    if (descriptionError) {\n      setError(descriptionError);\n      return;\n    }\n    try {\n      setError('');\n      await onAddTodo({\n        title: title.trim(),\n        description: description.trim() || null\n      });\n\n      // 清空表单\n      setTitle('');\n      setDescription('');\n    } catch (err) {\n      setError(err.message || '添加任务失败');\n    }\n  }, [title, description, onAddTodo]);\n  const handleTitleChange = useCallback(e => {\n    setTitle(e.target.value);\n    if (error) setError('');\n  }, [error]);\n  const handleDescriptionChange = useCallback(e => {\n    setDescription(e.target.value);\n    if (error) setError('');\n  }, [error]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"todo-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"todo-form-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"todo-form-icon\",\n        children: \"\\uD83D\\uDCDD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"todo-form-title\",\n        children: \"\\u6DFB\\u52A0\\u65B0\\u4EFB\\u52A1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-input-group\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              className: \"form-label\",\n              children: \"\\u4EFB\\u52A1\\u6807\\u9898 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"title\",\n              className: \"input\",\n              placeholder: \"\\u8BF7\\u8F93\\u5165\\u4EFB\\u52A1\\u6807\\u9898...\",\n              value: title,\n              onChange: handleTitleChange,\n              disabled: loading,\n              maxLength: 255,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          className: \"form-label\",\n          children: \"\\u4EFB\\u52A1\\u63CF\\u8FF0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"description\",\n          className: \"input textarea\",\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u4EFB\\u52A1\\u63CF\\u8FF0\\uFF08\\u53EF\\u9009\\uFF09...\",\n          value: description,\n          onChange: handleDescriptionChange,\n          disabled: loading,\n          maxLength: 1000,\n          rows: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-lg\",\n          disabled: loading || !title.trim(),\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"loading-spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this), \"\\u6DFB\\u52A0\\u4E2D...\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u2795\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), \"\\u6DFB\\u52A0\\u4EFB\\u52A1\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}, \"MpUKmv44W7WWeQhcTFYtn2ZUak8=\")), \"MpUKmv44W7WWeQhcTFYtn2ZUak8=\");\n_c2 = TodoForm;\nTodoForm.displayName = 'TodoForm';\nexport default TodoForm;\nvar _c, _c2;\n$RefreshReg$(_c, \"TodoForm$memo\");\n$RefreshReg$(_c2, \"TodoForm\");","map":{"version":3,"names":["React","useState","memo","useCallback","validateInput","jsxDEV","_jsxDEV","Fragment","_Fragment","TodoForm","_s","_c","onAddTodo","loading","title","setTitle","description","setDescription","error","setError","handleSubmit","e","preventDefault","titleError","descriptionError","trim","err","message","handleTitleChange","target","value","handleDescriptionChange","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","placeholder","onChange","disabled","maxLength","required","rows","_c2","displayName","$RefreshReg$"],"sources":["D:/PRD PROJECT/ToDoApp02-system/frontend/src/components/TodoForm.js"],"sourcesContent":["import React, { useState, memo, useCallback } from 'react';\r\nimport { validateInput } from '../utils/helpers';\r\n\r\nconst TodoForm = memo(({ onAddTodo, loading }) => {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = useCallback(async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // 验证输入\r\n    const titleError = validateInput(title, 1, 255);\r\n    if (titleError) {\r\n      setError(titleError);\r\n      return;\r\n    }\r\n\r\n    const descriptionError = description ? validateInput(description, 1, 1000) : null;\r\n    if (descriptionError) {\r\n      setError(descriptionError);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setError('');\r\n      await onAddTodo({\r\n        title: title.trim(),\r\n        description: description.trim() || null\r\n      });\r\n      \r\n      // 清空表单\r\n      setTitle('');\r\n      setDescription('');\r\n    } catch (err) {\r\n      setError(err.message || '添加任务失败');\r\n    }\r\n  }, [title, description, onAddTodo]);\r\n\r\n  const handleTitleChange = useCallback((e) => {\r\n    setTitle(e.target.value);\r\n    if (error) setError('');\r\n  }, [error]);\r\n\r\n  const handleDescriptionChange = useCallback((e) => {\r\n    setDescription(e.target.value);\r\n    if (error) setError('');\r\n  }, [error]);\r\n\r\n  return (\r\n    <div className=\"todo-form\">\r\n      <div className=\"todo-form-header\">\r\n        <span className=\"todo-form-icon\">📝</span>\r\n        <h2 className=\"todo-form-title\">添加新任务</h2>\r\n      </div>\r\n      \r\n      <form onSubmit={handleSubmit}>\r\n        {error && (\r\n          <div className=\"error-message\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"form-row\">\r\n          <div className=\"form-input-group\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"title\" className=\"form-label\">\r\n                任务标题 *\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"title\"\r\n                className=\"input\"\r\n                placeholder=\"请输入任务标题...\"\r\n                value={title}\r\n                onChange={handleTitleChange}\r\n                disabled={loading}\r\n                maxLength={255}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"description\" className=\"form-label\">\r\n            任务描述\r\n          </label>\r\n          <textarea\r\n            id=\"description\"\r\n            className=\"input textarea\"\r\n            placeholder=\"请输入任务描述（可选）...\"\r\n            value={description}\r\n            onChange={handleDescriptionChange}\r\n            disabled={loading}\r\n            maxLength={1000}\r\n            rows={3}\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"form-actions\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-primary btn-lg\"\r\n            disabled={loading || !title.trim()}\r\n          >\r\n            {loading ? (\r\n              <>\r\n                <span className=\"loading-spinner\"></span>\r\n                添加中...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <span>➕</span>\r\n                添加任务\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n});\r\n\r\nTodoForm.displayName = 'TodoForm';\r\n\r\nexport default TodoForm;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}