{"ast":null,"code":"import React,{useState,memo,useCallback}from'react';import{validateInput}from'../utils/helpers';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TodoForm=/*#__PURE__*/memo(_ref=>{let{onAddTodo,loading}=_ref;const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[error,setError]=useState('');const handleSubmit=useCallback(async e=>{e.preventDefault();// È™åËØÅËæìÂÖ•\nconst titleError=validateInput(title,1,255);if(titleError){setError(titleError);return;}const descriptionError=description?validateInput(description,1,1000):null;if(descriptionError){setError(descriptionError);return;}try{setError('');await onAddTodo({title:title.trim(),description:description.trim()||null});// Ê∏ÖÁ©∫Ë°®Âçï\nsetTitle('');setDescription('');}catch(err){setError(err.message||'Ê∑ªÂä†‰ªªÂä°Â§±Ë¥•');}},[title,description,onAddTodo]);const handleTitleChange=useCallback(e=>{setTitle(e.target.value);if(error)setError('');},[error]);const handleDescriptionChange=useCallback(e=>{setDescription(e.target.value);if(error)setError('');},[error]);return/*#__PURE__*/_jsxs(\"div\",{className:\"todo-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"todo-form-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"todo-form-icon\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"todo-form-title\",children:\"\\u6DFB\\u52A0\\u65B0\\u4EFB\\u52A1\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-input-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"\\u4EFB\\u52A1\\u6807\\u9898 *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",className:\"input\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u4EFB\\u52A1\\u6807\\u9898...\",value:title,onChange:handleTitleChange,disabled:loading,maxLength:255,required:true})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"\\u4EFB\\u52A1\\u63CF\\u8FF0\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",className:\"input textarea\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u4EFB\\u52A1\\u63CF\\u8FF0\\uFF08\\u53EF\\u9009\\uFF09...\",value:description,onChange:handleDescriptionChange,disabled:loading,maxLength:1000,rows:3})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-lg\",disabled:loading||!title.trim(),children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"loading-spinner\"}),\"\\u6DFB\\u52A0\\u4E2D...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2795\"}),\"\\u6DFB\\u52A0\\u4EFB\\u52A1\"]})})})]})]});});TodoForm.displayName='TodoForm';export default TodoForm;","map":{"version":3,"names":["React","useState","memo","useCallback","validateInput","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TodoForm","_ref","onAddTodo","loading","title","setTitle","description","setDescription","error","setError","handleSubmit","e","preventDefault","titleError","descriptionError","trim","err","message","handleTitleChange","target","value","handleDescriptionChange","className","children","onSubmit","htmlFor","type","id","placeholder","onChange","disabled","maxLength","required","rows","displayName"],"sources":["D:/PRD PROJECT/ToDoApp02-system/frontend/src/components/TodoForm.js"],"sourcesContent":["import React, { useState, memo, useCallback } from 'react';\r\nimport { validateInput } from '../utils/helpers';\r\n\r\nconst TodoForm = memo(({ onAddTodo, loading }) => {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = useCallback(async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // È™åËØÅËæìÂÖ•\r\n    const titleError = validateInput(title, 1, 255);\r\n    if (titleError) {\r\n      setError(titleError);\r\n      return;\r\n    }\r\n\r\n    const descriptionError = description ? validateInput(description, 1, 1000) : null;\r\n    if (descriptionError) {\r\n      setError(descriptionError);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setError('');\r\n      await onAddTodo({\r\n        title: title.trim(),\r\n        description: description.trim() || null\r\n      });\r\n      \r\n      // Ê∏ÖÁ©∫Ë°®Âçï\r\n      setTitle('');\r\n      setDescription('');\r\n    } catch (err) {\r\n      setError(err.message || 'Ê∑ªÂä†‰ªªÂä°Â§±Ë¥•');\r\n    }\r\n  }, [title, description, onAddTodo]);\r\n\r\n  const handleTitleChange = useCallback((e) => {\r\n    setTitle(e.target.value);\r\n    if (error) setError('');\r\n  }, [error]);\r\n\r\n  const handleDescriptionChange = useCallback((e) => {\r\n    setDescription(e.target.value);\r\n    if (error) setError('');\r\n  }, [error]);\r\n\r\n  return (\r\n    <div className=\"todo-form\">\r\n      <div className=\"todo-form-header\">\r\n        <span className=\"todo-form-icon\">üìù</span>\r\n        <h2 className=\"todo-form-title\">Ê∑ªÂä†Êñ∞‰ªªÂä°</h2>\r\n      </div>\r\n      \r\n      <form onSubmit={handleSubmit}>\r\n        {error && (\r\n          <div className=\"error-message\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"form-row\">\r\n          <div className=\"form-input-group\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"title\" className=\"form-label\">\r\n                ‰ªªÂä°Ê†áÈ¢ò *\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"title\"\r\n                className=\"input\"\r\n                placeholder=\"ËØ∑ËæìÂÖ•‰ªªÂä°Ê†áÈ¢ò...\"\r\n                value={title}\r\n                onChange={handleTitleChange}\r\n                disabled={loading}\r\n                maxLength={255}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"description\" className=\"form-label\">\r\n            ‰ªªÂä°ÊèèËø∞\r\n          </label>\r\n          <textarea\r\n            id=\"description\"\r\n            className=\"input textarea\"\r\n            placeholder=\"ËØ∑ËæìÂÖ•‰ªªÂä°ÊèèËø∞ÔºàÂèØÈÄâÔºâ...\"\r\n            value={description}\r\n            onChange={handleDescriptionChange}\r\n            disabled={loading}\r\n            maxLength={1000}\r\n            rows={3}\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"form-actions\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-primary btn-lg\"\r\n            disabled={loading || !title.trim()}\r\n          >\r\n            {loading ? (\r\n              <>\r\n                <span className=\"loading-spinner\"></span>\r\n                Ê∑ªÂä†‰∏≠...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <span>‚ûï</span>\r\n                Ê∑ªÂä†‰ªªÂä°\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n});\r\n\r\nTodoForm.displayName = 'TodoForm';\r\n\r\nexport default TodoForm;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}